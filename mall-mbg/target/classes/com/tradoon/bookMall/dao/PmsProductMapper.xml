<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.tradoon.bookMall.dao.PmsProductMapper">

    <insert id="insertSelective">
        insert into pms_product
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="id != null">
                id,
            </if>
            <if test="brandId != null">
                brand_id,
            </if>
            <if test="brandId != null">
                publish_house_id,
            </if>
            <if test="productCategoryId != null">
                product_category_id,
            </if>
            <if test="feightTemplateId != null">
                feight_template_id,
            </if>
            <if test="productAttributeCategoryId != null">
                product_attribute_category_id,
            </if>
            <if test="name != null">
                name,
            </if>
            <if test="pic != null">
                pic,
            </if>
            <if test="productSn != null">
                product_sn,
            </if>
            <if test="deleteStatus != null">
                delete_status,
            </if>
            <if test="publishStatus != null">
                publish_status,
            </if>
            <if test="newStatus != null">
                new_status,
            </if>
            <if test="recommandStatus != null">
                recommand_status,
            </if>
            <if test="verifyStatus != null">
                verify_status,
            </if>
            <if test="sort != null">
                sort,
            </if>
            <if test="sale != null">
                sale,
            </if>
            <if test="price != null">
                price,
            </if>
            <if test="promotionPrice != null">
                promotion_price,
            </if>
            <if test="giftGrowth != null">
                gift_growth,
            </if>
            <if test="giftPoint != null">
                gift_point,
            </if>
            <if test="usePointLimit != null">
                use_point_limit,
            </if>
            <if test="subTitle != null">
                sub_title,
            </if>
            <if test="originalPrice != null">
                original_price,
            </if>
            <if test="stock != null">
                stock,
            </if>
            <if test="lowStock != null">
                low_stock,
            </if>
            <if test="unit != null">
                unit,
            </if>
            <if test="weight != null">
                weight,
            </if>
            <if test="previewStatus != null">
                preview_status,
            </if>
            <if test="serviceIds != null">
                service_ids,
            </if>
            <if test="keywords != null">
                keywords,
            </if>
            <if test="note != null">
                note,
            </if>
            <if test="albumPics != null">
                album_pics,
            </if>
            <if test="detailTitle != null">
                detail_title,
            </if>
            <if test="promotionStartTime != null">
                promotion_start_time,
            </if>
            <if test="promotionEndTime != null">
                promotion_end_time,
            </if>
            <if test="promotionPerLimit != null">
                promotion_per_limit,
            </if>
            <if test="promotionType != null">
                promotion_type,
            </if>
            <if test="brandName != null">
                brand_name,
            </if>
            <if test="brandName != null">
                publish_house_name,
            </if>
            <if test="productCategoryName != null">
                product_category_name,
            </if>
            <if test="description != null">
                description,
            </if>
            <if test="detailDesc != null">
                detail_desc,
            </if>
            <if test="detailHtml != null">
                detail_html,
            </if>
            <if test="detailMobileHtml != null">
                detail_mobile_html,
            </if>
            <if test="createTime!=null">
                create_time,
            </if>
            <if test="updateTime!=null">
                update_time
            </if>

        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="id != null">
                #{id,jdbcType=BIGINT},
            </if>
            <if test="brandId != null">
                #{brandId,jdbcType=BIGINT},
            </if>
            <if test="brandId != null">
                #{brandId,jdbcType=BIGINT},
            </if>
            <if test="productCategoryId != null">
                #{productCategoryId,jdbcType=BIGINT},
            </if>
            <if test="feightTemplateId != null">
                #{feightTemplateId,jdbcType=BIGINT},
            </if>
            <if test="productAttributeCategoryId != null">
                #{productAttributeCategoryId,jdbcType=BIGINT},
            </if>
            <if test="name != null">
                #{name,jdbcType=VARCHAR},
            </if>
            <if test="pic != null">
                #{pic,jdbcType=VARCHAR},
            </if>
            <if test="productSn != null">
                #{productSn,jdbcType=VARCHAR},
            </if>
            <if test="deleteStatus != null">
                #{deleteStatus,jdbcType=INTEGER},
            </if>
            <if test="publishStatus != null">
                #{publishStatus,jdbcType=INTEGER},
            </if>
            <if test="newStatus != null">
                #{newStatus,jdbcType=INTEGER},
            </if>
            <if test="recommandStatus != null">
                #{recommandStatus,jdbcType=INTEGER},
            </if>
            <if test="verifyStatus != null">
                #{verifyStatus,jdbcType=INTEGER},
            </if>
            <if test="sort != null">
                #{sort,jdbcType=INTEGER},
            </if>
            <if test="sale != null">
                #{sale,jdbcType=INTEGER},
            </if>
            <if test="price != null">
                #{price,jdbcType=DECIMAL},
            </if>
            <if test="promotionPrice != null">
                #{promotionPrice,jdbcType=DECIMAL},
            </if>
            <if test="giftGrowth != null">
                #{giftGrowth,jdbcType=INTEGER},
            </if>
            <if test="giftPoint != null">
                #{giftPoint,jdbcType=INTEGER},
            </if>
            <if test="usePointLimit != null">
                #{usePointLimit,jdbcType=INTEGER},
            </if>
            <if test="subTitle != null">
                #{subTitle,jdbcType=VARCHAR},
            </if>
            <if test="originalPrice != null">
                #{originalPrice,jdbcType=DECIMAL},
            </if>
            <if test="stock != null">
                #{stock,jdbcType=INTEGER},
            </if>
            <if test="lowStock != null">
                #{lowStock,jdbcType=INTEGER},
            </if>
            <if test="unit != null">
                #{unit,jdbcType=VARCHAR},
            </if>
            <if test="weight != null">
                #{weight,jdbcType=DECIMAL},
            </if>
            <if test="previewStatus != null">
                #{previewStatus,jdbcType=INTEGER},
            </if>
            <if test="serviceIds != null">
                #{serviceIds,jdbcType=VARCHAR},
            </if>
            <if test="keywords != null">
                #{keywords,jdbcType=VARCHAR},
            </if>
            <if test="note != null">
                #{note,jdbcType=VARCHAR},
            </if>
            <if test="albumPics != null">
                #{albumPics,jdbcType=VARCHAR},
            </if>
            <if test="detailTitle != null">
                #{detailTitle,jdbcType=VARCHAR},
            </if>
            <if test="promotionStartTime != null">
                #{promotionStartTime,jdbcType=TIMESTAMP},
            </if>
            <if test="promotionEndTime != null">
                #{promotionEndTime,jdbcType=TIMESTAMP},
            </if>
            <if test="promotionPerLimit != null">
                #{promotionPerLimit,jdbcType=INTEGER},
            </if>
            <if test="promotionType != null">
                #{promotionType,jdbcType=INTEGER},
            </if>
            <if test="brandName != null">
                #{brandName,jdbcType=VARCHAR},
            </if>
            <if test="brandName != null">
                #{brandName,jdbcType=VARCHAR},
            </if>
            <if test="productCategoryName != null">
                #{productCategoryName,jdbcType=VARCHAR},
            </if>
            <if test="description != null">
                #{description,jdbcType=LONGVARCHAR},
            </if>
            <if test="detailDesc != null">
                #{detailDesc,jdbcType=LONGVARCHAR},
            </if>
            <if test="detailHtml != null">
                #{detailHtml,jdbcType=LONGVARCHAR},
            </if>
            <if test="detailMobileHtml != null">
                #{detailMobileHtml,jdbcType=LONGVARCHAR},
            </if>
            <if test="createTime!=null">
                #{createTime,jdbcType=DATE},
            </if>
            <if test="updateTime!=null">
                #{updateTime,jdbcType=DATE}
            </if>

        </trim>
    </insert>

    <select id="findBySelective" resultType="com.tradoon.bookMall.model.PmsProduct">
        select
            id as id,
            brand_id as brandId ,
            publish_house_id  as publishHouseId,
            product_category_id as productCategoryId,
            feight_template_id as feightTemplateId,
            product_attribute_category_id as productAttributeCategoryId,
            name as name ,
            pic as pic,
            product_sn as productSn,
            delete_status as deleteStatus,
            publish_status as publishStatus,
            new_status as newStatus,
            recommand_status as recommandStatus,
            verify_status as verifyStatus,
            sort as sort,
            sale as sale,
            price as price,
            promotion_price as promotionPrice,
            gift_growth as giftGrowth,
            gift_point as giftPoint,
            use_point_limit as usePointLimit,
            sub_title as subTitle,
            original_price as originalPrice,
            stock as stock,
            low_stock as lowStock,
            unit as unit,
            weight as weight,
            preview_status as previewStatus,
            service_ids as serviceIds,
            keywords as keywords,
            note as note,
            album_pics as albumPics,
            detail_title as detailTitle,
            promotion_start_time as promotionStartTime,
            promotion_end_time as promotionEndTime,
            promotion_per_limit as promotionPerLimit,
            promotion_type as promotionType,
            brand_name as brandName,
            publish_house_name as publishHouseName ,
            product_category_name as productCategoryName ,
            description as description,
            detail_desc as detailDesc,
            detail_html as detailHtml,
            detail_mobile_html as detailMobileHtml,
            create_time as createTime,
            update_time as updateTime
        from pms_product
        <where>
            <if test="publishStatus != null">
                publish_status=#{publishStatus}
            </if>
            <if test="verifyStatus != null">
                and verify_status=#{verifyStatus}
            </if>
            <if test="keywords != null">
               and  keywords like concat('%',#{keywords},'%')
            </if>
            <if test="productSn != null">
               and  product_sn=#{productSn}
            </if>
            <if test="productCategoryId != null">
                and product_category_id=#{productCategoryId}
            </if>
            <if test="brandId != null">
               and brand_id=#{brandId}
            </if>
            <if test="brandId != null">
               and publish_house_id =#{brandId}
            </if>
        </where>

    </select>
</mapper>