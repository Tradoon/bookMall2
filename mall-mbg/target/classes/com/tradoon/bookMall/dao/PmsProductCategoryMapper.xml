<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.tradoon.bookMall.dao.PmsProductCategoryMapper">
    <insert id="insertInfo">
        insert into pms_product_category(
        <trim suffixOverrides=",">
            <if test="id!=null">
            `id`,
            </if>
            <if test="parentId!=null">
                `parent_id`,
            </if>
            <if test="name!=null">
                `name`,
            </if>
            <if test="level!=null">
                `level`,
            </if>
            <if test="productCount!=null">
            `product_count`,
            </if>
            <if test="productUnit!=null">
                `product_unit`,
            </if>
            <if test="navStatus!=null">
                `nav_status`,
            </if>
            <if test="showStatus!=null">
                `show_status`,
            </if>

            <if test="sort!=null">
             `sort`,
            </if>

            <if test="icon!=null">
                `icon`,
            </if>

            <if test="keywords!=null">
                `keywords`,
            </if>

            <if test="description!=null">
                `description`
            </if>
        </trim>
        )
        values(
        <trim suffixOverrides=",">
            <if test="id!=null">
                #{id},
            </if>
            <if test="parentId!=null">
                #{parentId},
            </if>
            <if test="name!=null">
                #{name},
            </if>
            <if test="level!=null">
                #{level},
            </if>
            <if test="productCount!=null">
                #{productCount},
            </if>
            <if test="productUnit!=null">
                #{productUnit},
            </if>
            <if test="navStatus!=null">
                #{navStatus},
            </if>
            <if test="showStatus!=null">
                #{showStatus},
            </if>

            <if test="sort!=null">
                #{sort},
            </if>

            <if test="icon!=null">
                #{icon},
            </if>

            <if test="keywords!=null">
                #{keywords},
            </if>

            <if test="description!=null">
                #{description}
            </if>
        </trim>
        )
    </insert>

    <select id="findByInfo" resultType="com.tradoon.bookMall.model.PmsProductCategory">
        SELECT
            `id`,
            `parent_id`,
            `name`,
            `level`,
            `product_count`,
            `product_unit`,
            `nav_status`,
            `show_status`,
            `sort`,
            `icon`,
            `keywords`,
            `description`
        FROM
            pms_product_category
        <where>
              <if test="parentId!=null">
            parent_id = #{parentId}
              </if>
          <if test="name!=null">
          AND NAME = #{name}
          </if>
          <if test="productCount!=null ">
          AND product_count = #{productCount}
          </if>
          <if test="productUnit!=null">
          AND product_unit = #{productUnit}
          </if>
          <if test="navStatus!=null">
              AND nav_status = #{navStatus}
          </if>
          <if test="showStatus!=null">
              AND show_status = #{showStatus}
          </if>
          <if test="keywords!=null">
              AND keywords LIKE concat('%',#{keywords},'%')
          </if>
        </where>

        <if test="sort!=null">
        ORDER BY
            sort
        </if>

    </select>
</mapper>